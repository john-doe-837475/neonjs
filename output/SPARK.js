/*
 SPARK js lib (c) Thomas Rutter SPARKlib.com
*/
SPARK=function(){var g=window.SPARK||{},q={},m=[],w=[],o,u=0,x=0,y=function(a){for(;a=a.previousSibling;)if(a.nodeType==1)return a},z={" ":function(a,b){for(var d=a.length;d--;)if(a[d].compareDocumentPosition?a[d].compareDocumentPosition(b)&16:a[d].contains?a[d].contains(b)&&a[d]!==b:0)return 1},">":function(a,b){for(var d=a.length;d--;)if(a[d]===b.parentNode)return 1},"+":function(a,b){for(var d=a.length;d--;)if(a[d]===y(b))return 1},"&":function(a,b){for(var d=a.length;d--;)if(a[d]===b)return 1}},
v=function(){for(var a;a=w.shift();)a();u=1},A=function(){try{document.documentElement.doScroll("left");v()}catch(a){u||setTimeout(A,16)}},C=function(a){var b,d,c,f=[],h=[],e,n,l=/(([>+]?)\s*)([#.\[:]?)([*\w\-]+)(([|~]?=)("|'|)((\\.|[^\\])*?)\7\])?|,/g;for(a+=",";b=l.exec(a);)if(b[4]){var j=b[3],i=b[4],p=b[6],r=(""+b[8]).replace(/\\(.)/g,"$1"),s=!e,t=0,k=[];e=b[2]?b[2]:b[1]&&e?" ":e;b=(n=f.length==1&&(e===">"||e===" "))?f[0]:document;if(f.length||s){if(e==="&"){s=1;k=f.slice(0)}else if(j=="#"){t=
1;if(c=document.getElementById(i))k.push(c)}else{if(j=="."&&b.getElementsByClassName){t=1;c=b.getElementsByClassName(i)}else{t=!j;c=b.getElementsByTagName(j?"*":i)}b=0;for(d=c.length;b<d;)k.push(c[b++]);if(n&&e===" ")s=1}for(b=k.length;b--;){n=t?1:!j?i=="*"||k[b].nodeName.toLowerCase()==i.toLowerCase():j=="#"?k[b].id==i:j=="."?(" "+k[b].className+" ").replace(/\s/g," ").indexOf(" "+i+" ")>=0:j=="["?!p||!r?k[b].hasAttribute(i):(c=i=="class"?k[b].className:k[b].getAttribute(i))&&p=="="?c==r:p=="~="?
(" "+c+" ").indexOf(" "+r+" ")>=0:(c+"-").indexOf(r)===0:i.toLowerCase()=="first-child"?!y(k[b]):0;if(!n||!s&&!z[e](f,k[b]))k.splice(b,1)}f=k;e="&"}}else{for(;c=f.shift();)z["&"](h,c)||h.push(c);e=0}return h},B=function(){var a=m.length,b=+new Date,d,c;for((o=!a?0:b<o+10?o+50/3:b+4)&&setTimeout(B,o-b);a--;){d=m[a];c=(b-d[4])/(d[7]||400);if(c>1)m.splice(a,c=1);d[0][d[1]]=(d[6]=="lin"?c:d[6]=="in"?c*c:d[6]=="inout"?(1-Math.cos(Math.PI*c))/2:d[6]=="el"?((2-c)*c-1)*Math.cos(Math.PI*c*2*(d[7]||400)/(d[8]||
300))+1:d[6]=="fn"?d[8](c):(2-c)*c)*d[3]+d[2]+d[5]}};g.select=function(a){var b,d;d=function(){};d.prototype=this;d=new d;if(a!==""+a){b=!a?[]:a.nodeType||a.setTimeout?[a]:a;for(d.length=a=b.length;a--;)d[a]=b[a];return d}return this.select(document.querySelectorAll?document.querySelectorAll(a):C(a))};g.watch=function(a,b){var d,c,f=function(h){return function(){var e=event;e.preventDefault=function(){e.returnValue=false};e.stopPropagation=function(){e.cancelBubble=true};if(!e.which)e.which=e.button&
1?1:e.button&2?3:e.button&4?2:e.which;e.pageX=e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft);e.pageY=e.clientY+(document.documentElement.scrollTop||document.body.scrollTop);e.currentTarget=h;e.target=e.srcElement;return b.call(h,e)}};b.SPARK=b.SPARK||{};b.SPARK.$i=b.SPARK.$i||++x;for(d=this.length;d--;){c=this[d];if(c.addEventListener)c.addEventListener(a,b,false);else{c.SPARK=c.SPARK||{};c.SPARK["$e"+b.SPARK.$i]=c.SPARK["$e"+b.SPARK.$i]||f(c);c.attachEvent("on"+a,c.SPARK["$e"+
b.SPARK.$i])}}};g.unwatch=function(a,b){var d,c;for(d=this.length;d--;){c=this[d];if(c.addEventListener)c.removeEventListener(a,b,false);else if(c.SPARK&&b.SPARK&&c.SPARK["$e"+b.SPARK.$i]){c.detachEvent("on"+a,c.SPARK["$e"+b.SPARK.$i]);delete c.SPARK["$e"+b.SPARK.$i]}}return this};g.ready=function(a){u?a():w.push(a)};g.load=function(a,b){var d,c=a===""+a?[a]:a,f=b||function(){},h=this,e=++x,n=function(l){var j=h.build({script:"",$src:l}),i=function(){if(q[l]!=2&&(!this.readyState||/loade|co/.test(this.readyState))){q[l]=
2;j.unwatch("load",i).unwatch("readystatechange",i).remove();if(!--f.SPARK["$l"+e]){f();delete f.SPARK["$l"+e]}}};q[l]=1;j.watch("load",i);j.watch("readystatechange",i);h.select(document.documentElement.childNodes[0]).append(j)};f.SPARK=f.SPARK||{};f.SPARK["$l"+e]=0;this.ready(function(){for(d=c.length;d--;)if(!q[c[d]]){f.SPARK["$l"+e]++;n(c[d])}f.SPARK["$l"+e]||f()})};g.getStyle=function(a){return!this[0]?void 0:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(this[0],
null)[a]:this[0].currentStyle[a]};g.setAttribute=function(a,b){for(var d=this.length,c=a.toLowerCase();d--;)if(c=="style")this[d].style.cssText=b;else if(c=="for")this[d].htmlFor=b;else if(c=="class")this[d].className=b;else b?this[d].setAttribute(a,b):this[d].removeAttribute(a);return this};g.removeAttribute=function(a){return this.setAttribute(a,"")};g.removeClass=function(a){for(var b=this.length;b--;)this[b].className=(" "+this[b].className+" ").replace(/\s/g," ").replace(" "+a+" "," ").slice(1,
-1);return this};g.addClass=function(a){for(var b=this.length;b--;)this[b].className=(" "+this[b].className+" ").replace(/\s/g," ").replace(" "+a+" "," ").slice(1)+a;return this};g.style=function(a,b,d,c,f,h){for(var e=this.length,n=+new Date,l,j,i=d!==void 0&&(l=parseFloat(d))==l&&(j=parseFloat(b))==j,p=i&&/\D*$/.exec(d)[0];e--;){this[e].style[a]=b;for(d=m.length;d--;)if(m[d][0]===this[e].style&&m[d][1]==a){m.splice(d,1);d=0}i&&m.push([this[e].style,a,j,l-j,n,p,c,f,h])}i&&!o&&B();return this};g.build=
function(a){var b,d,c;d=[];if(a===""||a===null||a.length===0)return this.select([]);if(a.cloneNode&&a.nodeType)return this.select(a);if(a.length&&a[0]&&a!==""+a){c=document.createDocumentFragment();b=0;for(d=a.length;b<d;)c.appendChild(this.build(a[b++])[0]);return this.select(c.childNodes)}if(typeof a!="object")return this.select(document.createTextNode(a));for(b in a)if(Object.hasOwnProperty.call(a,b))if(b.slice(0,1)=="$")d.push([b.slice(1),a[b]]);else{c=this.select(document.createElement(b));a[b]&&
c.append(a[b])}for(b=d.length;b--;)c.setAttribute(d[b][0],d[b][1]);return c};g.append=function(a){var b,d,c=this.build(a)[0],f,h,e=[];if(c){if(c.parentNode&&c.parentNode.nodeType==11)c=c.parentNode;for(a=this.length;a--;)if(this[a].appendChild){f=a?c.cloneNode(true):c;h=f.nodeType==11?f.childNodes:[f];b=0;for(d=h.length;b<d;)e.push(h[b++]);this[a].appendChild(f)}}return this.select(e)};g.insert=function(a){var b,d,c=this.build(a)[0],f,h,e=[];if(c){if(c.parentNode&&c.parentNode.nodeType==11)c=c.parentNode;
for(a=this.length;a--;)if(this[a].parentNode){f=a?c.cloneNode(true):c;h=f.nodeType==11?f.childNodes:[f];b=0;for(d=h.length;b<d;)e.push(h[b++]);this[a].parentNode.insertBefore(f,this[a])}}return this.select(e)};g.remove=function(){for(var a=this.length;a--;)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this};g.empty=function(){for(var a=this.length,b;a--;)for(;b=this[a].lastChild;)this[a].removeChild(b);return this};g.jsonDecode=function(a){if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrt]|\\u[0-9a-fA-F]{4}/g,
"$").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+a+")")};g.getHttp=function(a,b,d,c){var f,h=[],e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(e.readyState==4){if(!e.responseJSON)e.responseJSON=this.jsonDecode(e.responseText);b.call(e)}};e.open(d||"GET",a,true);if(c&&""+c!==c&&typeof c.cloneNode!="function"&&typeof c.read!="function"){for(f in c)Object.hasOwnProperty.call(c,
f)&&h.push(encodeURIComponent(f)+"="+encodeURIComponent(c[f]));c=h.join("&");e.setRequestHeader("Content-type","application/x-www-form-urlencoded")}e.send(c)};if(self!==top&&!g.framing){top.location.replace(location.href);location.replace(null)}g.select(document).watch("DOMContentLoaded",v);g.select(window).watch("load",v);/\bMSIE\s/.test(navigator.userAgent)&&!window.opera&&self===top&&A();return g}();